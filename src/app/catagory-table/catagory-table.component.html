<div class="container-fluid text-center mt-4 mb-4">
  <h1>
    Catagorized Medicine List
  </h1>
<div class="card ms-4 mt-4 ps-4 pe-5">
  <div class="card-body  ">
  <div class="container ms-5">
    <table id="datatableID" class="table table-bordered border-warning mb-4 ml-auto  " datatable [dtOptions]="dtOptions"
      [dtTrigger]="dtTrigger">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Category</th>

          <!-- <th scope="col">Dosage Brand Strength</th>
            <th scope="col">strength Name</th> -->
          <!-- <th scope="col">brand Name(Old)</th> -->
          <th scope="col">Generic Name</th>
          <th scope="col">Manufacturer</th>
          <!-- <th scope="col">strength(Old)</th>  -->
          <th scope="col">Brand Name</th>
          <!-- <th scope="col">dar</th>
            <th scope="col">Use For</th> -->
          <th scope="col">Dosage Description</th>
          <!-- <th scope="col">Dosages Description(Old)</th> -->
          <th scope="col">Dosage Brand Strength(Old)</th>
          <th scope="col">Actions</th>


        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let med of medicines">
          <td scope="row">{{med.id}}</td>
          <td>{{med.categoryName}}</td>

          <!-- <td>{{med.dosageBrandStrength}}</td>
        <td>{{med.strengthName}}</td> -->
          <!-- <td >{{med.brandNameOld}}</td> -->
          <td>{{med.genericName}}</td>
          <td>{{med.manufacturer}}</td>
          <!-- <td>{{med.strengthOld}}</td> -->
          <td>{{med.brandName}}</td>
          <!-- <td>{{med.dar}}</td>
        <td>{{med.useFor}}</td> -->
          <td>{{med.dosageDescription}}</td>
          <!-- <td>{{med.dosagesDescriptionOld}}</td>-->
          <td>{{med.dosageBrandStrength}}</td>


          <!-- (click)="onClick($event)" -->
          <td>
            <button type="button" class="btn button-style mt-2" (click)="[open(mymodal), onClick(med)]">Edit</button>
          </td>


          <!-- ---------------------------MODAL------------------------------------------------ -->
          <ng-template #mymodal let-modal>
            <div class="container-fluid modalWrapper">
              <div class="modal-header header-background pt-3 pb-2">
                <div class="text-center">
                  <h5 class="modal-title title-modal ms-5  " id="modal-basic-title">
                    <i class="fas fa-edit"></i>
                    Update Category
                  </h5>
                </div>
                <button type="button " class="btn btn-danger close me-2" aria-label="Close"
                  (click)="modal.dismiss('Cross click')">
                  <span class="p-2 " aria-hidden="true">X</span>
                </button>
              </div>
              <div class="modal-body mb-2  ms-4">
                <h5 class="mb-3 mt-2">
                  Brand Name: {{brand}}
                </h5>
                <h5 class="mb-3">
                  Manufacturer: {{manu}}
                </h5>
                <h5 class="mb-3">
                  Generic Name: {{genName}}
                </h5>
                <h5 class="mb-2">
                  Dosage Strength: <p>{{type}}</p>
                </h5>


                <div class="input-group container mb-1 pe-4">
                  <select [(ngModel)]="selected" (change)="selectOption($any($event.target).value )" class="form-select"
                    id="inputGroupSelect02">

                    <option selected>Choose Catagory</option>
                    <option *ngFor="let category of categories" #categoryName value={{category.id}}>
                      {{category.category_name}}
                    </option>

                  </select>

                  <label class="input-group-text" for="inputGroupSelect02">Category</label>

                </div>

              </div>
              <div class="modal-footer mb-3 pe-4 center">
                <button type="button" class="btn updateButton"
                  (click)="[modal.close('Save click'),onUpdate(med, selected) ]">Update</button>
              </div>
            </div>
          </ng-template>
          <!-- ------------------------------------MODAL ENDS------------------------------------------------ -->


        </tr>


      </tbody>
    </table>

  </div>
  
</div>
</div>
</div>